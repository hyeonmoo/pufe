<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.putupiron.pufe">
	<!-- 로그인 -->
	<select id="selectUser" parameterType="String" resultType="User">
		select * from user where user_email=#{user_email}
	</select>
	<!-- 회원가입 -->
	<insert id="join" parameterType="JoinData">
		insert into user values(#{user_email},#{user_pw},#{user_name},#{gender},#{user_tel},"user",null,null,0,0,0)
	</insert>
	<!-- 이메일찾기 -->
	<select id="findEmail" parameterType="map" resultType="String">
		select user_email from user where <if test='type=="R"'>user_email=#{email} and</if> user_name=#{name} and user_tel=#{phone}
	</select>
	<!-- 비밀번호 재설정 -->
	<update id="resetPw" parameterType="map">
		update user set user_pw=#{user_pw} where user_email=#{user_email}
	</update>
</mapper>